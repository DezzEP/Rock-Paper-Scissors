<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>


  

<body>
  <div class ="buttons">
    <div>
      <img id ="rock" src ="images/rock.png" alt ="picture of rock" >
      <p> rock</p>
    </div>

    <div>
      <img id ="paper" src ="images/paper.png" alt ="picture of paper">
      <p>paper</p>
    </div>
    <div>
      <img id ="scissors" src ="images/scissors.png" alt ="picture of scissors">
      <p>scissors</p>
    </div>
    </div>
   <div id="score">
     <p id='computer'></p>
      
    </div>


</body>
<script>

  let numOfRounds = 1;
  let decision = '';
  let ties = 0;
  let wins = 0;
  let losses = 0;
  let continueCon = true;

  const score = document.createElement("h4");
      const node = document.createTextNode("Choose Your Weapon");
      score.appendChild(node);
      const element = document.getElementById("computer");
      element.appendChild(score);

  
  const playAgainBtn = (gameVictor) => {let btnPlayAgain = document.createElement("button");
      if (gameVictor === 2){
      btnPlayAgain.innerHTML = "Play Again?";
      playAgain = document.body.appendChild(btnPlayAgain);
      playAgain.style = "height: 7.5em; font-size: 32px; background-color: pink;";
      numOfRounds = 0;
      gameVictor = 0;
      }
      btnPlayAgain.addEventListener('click', () => {
      node.nodeValue = "Choose Your Weapon!";
      numOfRounds = 1;
      wins = 0;
      losses = 0;
      ties = 0;
      continueCon = true;
      
      
      btnPlayAgain.remove();
      
      
  });
      
      
    
    

    
}

  
 
  
  function computerPlay(){
    /*generates a random number between 0-2, then assigns 
    each possibility with rock paper or scissors. */
    let computerChoice = '';
    let randomInt = Math.floor(Math.random() * 3); 
    if (randomInt === 0) {
      computerChoice = "rock"
    }
    else if (randomInt === 1) {
      computerChoice = "paper"
    }
    else if (randomInt === 2) {
      computerChoice = "scissors"
    }
    return computerChoice;

  }
  
  
    
  
  
  function playGame(computer, user){
    let lose = "YOU LOSE!"
    let win = "YOU WIN!"
    let tie = "IT'S A TIE!"
    console.log(`${user} vs ${computer}`);
    if (user === computer){
      console.log(tie);
      ties++;
    }
    else if (user === "rock" && computer === 'paper'){
      console.log(lose)
      losses++;
    }
    else if (user === "paper" && computer === "scissors"){
      console.log(lose)
      losses++;
      
    }
    else if (user === "scissors" && computer === "rock"){
      console.log(lose)
      losses++;
      
    }
    else{
      console.log(win);
      wins++;
    }}
  function gamesPlayed(buttonClicked){
    let decision = buttonClicked;
    
    for (let i = 0; i < numOfRounds; i++){
      playGame(computerPlay(), decision);}
    if(wins === 0 && losses && 0 || ties && 0){
      node.nodeValue = 'Rock Paper Scissors';
    }
    else{
      node.nodeValue = `Wins: ${wins}Losses: ${losses}Ties: ${ties}`;}
    
    
    if (wins === 5 && continueCon === true)
      {node.nodeValue = "YOU WIN!";
        playAgainBtn(2);
        continueCon = false;
        return;
      } 

    else if (losses === 5 && continueCon === true){
      
      node.nodeValue = 'You Lose';
      playAgainBtn(2);
      continueCon = false;
      return;
    }
    else if (continueCon === false && losses >= 5){
      node.nodeValue = 'You Lost Already. :(';
    }
    else if (continueCon === false && wins >= 5){
      node.nodeValue = 'You Won Already! :)';
    }
      
    
    
    
  }
  
  let btnR = document.querySelector('#rock');
  btnR.addEventListener('click', () => {
   gamesPlayed(btnR.id);
  });
  let btnS = document.querySelector('#scissors');
  btnS.addEventListener('click', () => {
   gamesPlayed(btnS.id);
  });
  let btnP = document.querySelector('#paper');
  btnP.addEventListener('click', () => {
   gamesPlayed(btnP.id);
  });

  
</script>
</html>